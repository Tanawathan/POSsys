# 筆記本電腦同步指南

## 📋 專案概覽
- **專案名稱**: Tanawat 餐廳點餐管理系統
- **版本**: v1.0
- **打包日期**: 2025年7月25日
- **打包檔案**: `tanawat-restaurant-system-20250725-1353.zip`

## 🔄 同步方式

### 方法一：使用壓縮檔案（最簡單）

1. **複製壓縮檔案**
   - 檔案位置：`C:\Users\fiend\OneDrive\桌面2\tanawat-restaurant-system-20250725-1353.zip`
   - 透過 OneDrive、USB 隨身碟或雲端儲存傳輸到筆記本電腦

2. **在筆記本電腦上解壓縮**
   ```bash
   # 解壓縮到適當位置
   mkdir C:\Projects\tanawat-restaurant-system
   # 解壓縮 ZIP 檔案到此資料夾
   ```

3. **安裝相依套件**
   ```bash
   cd C:\Projects\tanawat-restaurant-system
   npm install
   ```

### 方法二：使用 GitHub（推薦長期開發）

1. **建立 GitHub 倉庫**
   - 登入 GitHub
   - 建立新的私人倉庫（名稱：`tanawat-restaurant-system`）

2. **在當前電腦推送**
   ```bash
   git remote add origin https://github.com/您的用戶名/tanawat-restaurant-system.git
   git branch -M main
   git push -u origin main
   ```

3. **在筆記本電腦克隆**
   ```bash
   git clone https://github.com/您的用戶名/tanawat-restaurant-system.git
   cd tanawat-restaurant-system
   npm install
   ```

## ⚙️ 環境設定

### 1. 安裝 Node.js
- 下載並安裝 Node.js 18+ 或 24+
- 驗證安裝：`node --version` 和 `npm --version`

### 2. 環境變數設定
複製 `config/.env.example` 為 `config/.env` 並設定：
```
NOTION_API_KEY=你的Notion API密鑰
NOTION_MENU_DATABASE_ID=你的菜單資料庫ID
NOTION_ORDERS_DATABASE_ID=你的訂單資料庫ID
NOTION_TABLES_DATABASE_ID=你的桌況資料庫ID
NOTION_RESERVATIONS_DATABASE_ID=你的訂位資料庫ID
NOTION_STAFF_DATABASE_ID=你的員工資料庫ID
```

### 3. 啟動伺服器
```bash
# 開發模式
npm run dev

# 或直接啟動
npm run direct
```

## 🔧 重要檔案說明

### 核心檔案
- `proxy-server.js` - 主要 API 伺服器
- `package.json` - 專案設定和相依套件
- `config/.env` - 環境變數設定

### 主要功能模組
- `assets/js/table-manager.js` - 桌況管理
- `assets/js/table-ui.js` - 桌況介面
- `assets/js/order-manager.js` - 訂單管理
- `assets/js/menu-manager.js` - 菜單管理

### 管理介面
- `pages/management/table-management.html` - 桌況管理介面
- `pages/management/order-management.html` - 訂單管理介面
- `pages/management/menu-management.html` - 菜單管理介面

## 🌐 系統功能

### 已實現功能 ✅
1. **CSV 資料同步到 Notion**
2. **桌況管理系統**
   - 即時桌況更新
   - 安排入座功能
   - 桌況狀態管理
3. **訂單管理系統**
   - 訂單查看與管理
   - 訂單狀態更新
   - 實時 Notion 同步
4. **菜單管理系統**
5. **客戶介面**
   - 點餐系統
   - 結帳功能

### API 端點
- `GET /api/health` - 健康檢查
- `GET /api/tables` - 獲取桌況資料
- `POST /api/tables/:id/status` - 更新桌況
- `GET /api/orders` - 獲取訂單資料
- `POST /api/orders` - 建立新訂單
- `PATCH /api/orders/:id/status` - 更新訂單狀態

## 🔄 日常開發工作流程

### 使用 Git 進行版本控制
```bash
# 查看變更
git status

# 提交變更
git add .
git commit -m "描述變更內容"

# 推送到遠端
git push

# 在另一台電腦拉取更新
git pull
```

### 啟動開發環境
1. 開啟終端機
2. 進入專案目錄
3. 執行 `npm run dev` 或 `npm run direct`
4. 開啟瀏覽器訪問 `http://localhost:3000`

## 🐛 常見問題

### 1. 依賴套件問題
```bash
# 清除 node_modules 重新安裝
rm -rf node_modules
npm install
```

### 2. 環境變數問題
- 確認 `.env` 檔案存在且設定正確
- 檢查 Notion API 密鑰是否有效

### 3. 連接埠衝突
- 預設使用 3000 埠，如有衝突可修改 `proxy-server.js`

## 📞 支援
如有問題，請檢查：
1. Node.js 版本 (建議 18+ 或 24+)
2. 網路連接 (Notion API 需要網路)
3. 環境變數設定
4. 防火牆設定

## 📋 檢查清單

### 傳輸前確認
- [ ] 壓縮檔案已建立
- [ ] 環境變數已記錄
- [ ] 重要檔案已備份

### 新電腦設定確認
- [ ] Node.js 已安裝
- [ ] 專案已解壓縮/克隆
- [ ] 相依套件已安裝 (`npm install`)
- [ ] 環境變數已設定
- [ ] 伺服器能正常啟動
- [ ] Notion API 連接正常
