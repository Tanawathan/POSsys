# ğŸ” Uber Eats API æ•´åˆæŒ‡å—

## ğŸ“‹ æ•´åˆæ¦‚è¦½

æ­¤æ•´åˆå…è¨±æ‚¨çš„ POS ç³»çµ±ç›´æ¥æ¥æ”¶å’Œè™•ç†ä¾†è‡ª Uber Eats å¹³å°çš„è¨‚å–®ï¼Œå¯¦ç¾ç„¡ç¸«çš„å¤šå¹³å°è¨‚å–®ç®¡ç†ã€‚

### ğŸ”„ è³‡æ–™æµç¨‹
```
Uber Eats å¹³å° â†’ Webhook â†’ æœ¬åœ° POS ç³»çµ± â†’ Notion è³‡æ–™åº« â†’ KDS å»šæˆ¿ç³»çµ±
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç”³è«‹ Uber Eats API
1. å‰å¾€ [Uber Developer Portal](https://developer.uber.com/)
2. è¨»å†Šé–‹ç™¼è€…å¸³è™Ÿ
3. ç”³è«‹ Eats API å­˜å–æ¬Šé™
4. æäº¤å•†æ¥­æ–‡ä»¶ç­‰å¾…å¯©æ ¸

### 2. é…ç½®ç’°å¢ƒè®Šæ•¸
```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸æ¨¡æ¿
cp .env.uber-eats.template .env.uber-eats

# ç·¨è¼¯é…ç½®æ–‡ä»¶
nano .env.uber-eats
```

### 3. éƒ¨ç½² Webhook ç«¯é»
```bash
# éƒ¨ç½²åˆ° Netlify
netlify deploy --prod

# Webhook URL å°‡æœƒæ˜¯:
# https://your-site.netlify.app/.netlify/functions/uber-eats-webhook
```

### 4. é…ç½® Uber Eats Webhook
åœ¨ Uber Eats é–‹ç™¼è€…é¢æ¿ä¸­è¨­å®šï¼š
- **Webhook URL**: `https://your-site.netlify.app/.netlify/functions/uber-eats-webhook`
- **Events**: `orders.notification`, `orders.status_changed`

## ğŸ”§ æŠ€è¡“å¯¦ä½œ

### API æ•´åˆæ¨¡çµ„
- **æª”æ¡ˆ**: `scripts/uber-eats-integration.js`
- **åŠŸèƒ½**: OAuth èªè­‰ã€è¨‚å–®åŒæ­¥ã€ç‹€æ…‹ç®¡ç†
- **é¡åˆ¥**: `UberEatsAPI`, `UberEatsWebhookHandler`

### Webhook è™•ç†
- **æª”æ¡ˆ**: `netlify/functions/uber-eats-webhook.js`
- **åŠŸèƒ½**: æ¥æ”¶ Uber Eats äº‹ä»¶ã€è³‡æ–™è½‰æ›ã€é€šçŸ¥è™•ç†

### è¨‚å–®æ˜ å°„
| Uber Eats ç‹€æ…‹ | æœ¬åœ°ç³»çµ±ç‹€æ…‹ |
|----------------|--------------|
| `created` | å¾…è™•ç† |
| `accepted` | è£½ä½œä¸­ |
| `ready_for_pickup` | ç­‰å¾…ç”œé» |
| `picked_up` | ç­‰å¾…çµå¸³ |
| `delivered` | çµå¸³å®Œæˆ |
| `cancelled` | å·²å–æ¶ˆ |

## ğŸ“Š åŠŸèƒ½ç‰¹è‰²

### ğŸ”„ è‡ªå‹•è¨‚å–®åŒæ­¥
- å³æ™‚æ¥æ”¶ Uber Eats æ–°è¨‚å–®
- è‡ªå‹•è½‰æ›ç‚ºæœ¬åœ°è¨‚å–®æ ¼å¼
- åŒæ­¥å­˜å…¥ Notion è³‡æ–™åº«

### ğŸ“‹ è¨‚å–®ç®¡ç†
- çµ±ä¸€çš„è¨‚å–®ç‹€æ…‹ç®¡ç†
- æ”¯æ´è¨‚å–®å‚™è¨»å’Œç‰¹æ®Šè¦æ±‚
- å®¢æˆ¶è³‡è¨Šå’Œé€é”åœ°å€è¨˜éŒ„

### ğŸ”” é€šçŸ¥ç³»çµ±
- æ–°è¨‚å–®å³æ™‚é€šçŸ¥
- å¤šç¨®é€šçŸ¥æ–¹å¼æ”¯æ´
- å¯è‡ªè¨‚é€šçŸ¥å…§å®¹

### ğŸ“ˆ ç‡Ÿæ”¶æ•´åˆ
- Uber Eats ç‡Ÿæ”¶çµ±è¨ˆ
- å¤šå¹³å°ç‡Ÿæ”¶å°æ¯”
- è‡ªå‹•è²¡å‹™è¨˜éŒ„

## ğŸ›¡ï¸ å®‰å…¨æ€§

### API å®‰å…¨
- OAuth 2.0 èªè­‰æ©Ÿåˆ¶
- HTTPS åŠ å¯†å‚³è¼¸
- API é‡‘é‘°å®‰å…¨å­˜å„²

### Webhook é©—è­‰
- æ•¸ä½ç°½åé©—è­‰
- é˜²é‡æ”¾æ”»æ“Š
- éŒ¯èª¤è™•ç†å’Œé‡è©¦

### è³‡æ–™ä¿è­·
- å®¢æˆ¶è³‡æ–™åŠ å¯†
- ç¬¦åˆéš±ç§æ³•è¦
- å®šæœŸå®‰å…¨ç¨½æ ¸

## ğŸ” æ¸¬è©¦

### æœ¬åœ°æ¸¬è©¦
```bash
# åŸ·è¡Œæ¸¬è©¦ Webhook
node netlify/functions/uber-eats-webhook.js

# æ¸¬è©¦ API æ•´åˆ
node -e "require('./scripts/uber-eats-integration.js').testAPI()"
```

### Sandbox ç’°å¢ƒ
- ä½¿ç”¨ Uber Eats Sandbox API
- æ¨¡æ“¬è¨‚å–®å’Œç‹€æ…‹è®Šæ›´
- å®Œæ•´åŠŸèƒ½æ¸¬è©¦

## ğŸ“ æ”¯æ´èˆ‡æ–‡ä»¶

### å®˜æ–¹è³‡æº
- [Uber Eats API æ–‡ä»¶](https://developer.uber.com/docs/eats)
- [Webhook æŒ‡å—](https://developer.uber.com/docs/eats/webhooks)
- [é–‹ç™¼è€…ç¤¾ç¾¤](https://community.uber.com/)

### æœ¬åœ°æ”¯æ´
- æŠ€è¡“æ–‡ä»¶: `docs/UberEats-API-æº–å‚™æ–‡ä»¶.md`
- ç–‘é›£æ’è§£: åƒè€ƒç³»çµ±æ—¥èªŒ
- è¯çµ¡è³‡è¨Š: [è«‹å¡«å…¥æŠ€è¡“æ”¯æ´è¯çµ¡æ–¹å¼]

## ğŸ”§ ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

**Q: Webhook æ²’æœ‰æ”¶åˆ°äº‹ä»¶**
- æª¢æŸ¥ Webhook URL æ˜¯å¦æ­£ç¢ºè¨­å®š
- ç¢ºèª Netlify Function å·²æ­£ç¢ºéƒ¨ç½²
- æª¢æŸ¥é˜²ç«ç‰†å’Œç¶²è·¯è¨­å®š

**Q: API èªè­‰å¤±æ•—**
- ç¢ºèª Client ID å’Œ Client Secret æ­£ç¢º
- æª¢æŸ¥ OAuth scope è¨­å®š
- ç¢ºèª API æ¬Šé™å·²é–‹é€š

**Q: è¨‚å–®è³‡æ–™æ ¼å¼éŒ¯èª¤**
- æª¢æŸ¥è¨‚å–®æ˜ å°„é‚è¼¯
- ç¢ºèª Notion è³‡æ–™åº«çµæ§‹
- æŸ¥çœ‹è½‰æ›å‡½æ•¸éŒ¯èª¤æ—¥èªŒ

### æ—¥èªŒæª¢æŸ¥
```bash
# Netlify Function æ—¥èªŒ
netlify functions:log uber-eats-webhook

# æœ¬åœ°é™¤éŒ¯
DEBUG=uber-eats:* npm start
```

## ğŸ“… ç¶­è­·

### å®šæœŸæª¢æŸ¥
- [ ] API é‡‘é‘°æœ‰æ•ˆæ€§
- [ ] Webhook ç«¯é»é‹ä½œç‹€æ³
- [ ] è¨‚å–®åŒæ­¥æº–ç¢ºæ€§
- [ ] ç³»çµ±æ•ˆèƒ½ç›£æ§

### æ›´æ–°ä½œæ¥­
- [ ] å®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶
- [ ] è¿½è¹¤ Uber Eats API è®Šæ›´
- [ ] å‚™ä»½é‡è¦è¨­å®šå’Œè³‡æ–™

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´7æœˆ27æ—¥  
**ç‰ˆæœ¬**: v1.0  
**ç¶­è­·è€…**: [è«‹å¡«å…¥è² è²¬äºº]
